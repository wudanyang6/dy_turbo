---
{"dg-publish":true,"permalink":"/card/obsidian/dg-publish=true的标签云/","noteIcon":"2","created":"2024-10-23T20:19:22+08:00","updated":"2024-10-23T20:28:06+08:00"}
---


# dg-publish=true的标签云

<span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:%E6%95%88%E7%8E%87" style="text-decoration:none; color:inherit;">
                        <strong>效率</strong> (1)
                    </a>
                </span><span style="font-size:14px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:tools" style="text-decoration:none; color:inherit;">
                        <strong>tools</strong> (2)
                    </a>
                </span><span style="font-size:14px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:things3" style="text-decoration:none; color:inherit;">
                        <strong>things3</strong> (2)
                    </a>
                </span><span style="font-size:26px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:linux" style="text-decoration:none; color:inherit;">
                        <strong>linux</strong> (8)
                    </a>
                </span><span style="font-size:14px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:shell" style="text-decoration:none; color:inherit;">
                        <strong>shell</strong> (2)
                    </a>
                </span><span style="font-size:22px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:aigc" style="text-decoration:none; color:inherit;">
                        <strong>aigc</strong> (6)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95" style="text-decoration:none; color:inherit;">
                        <strong>压力测试</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:aigc-kimi" style="text-decoration:none; color:inherit;">
                        <strong>aigc-kimi</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:%E6%96%87%E4%BB%B6" style="text-decoration:none; color:inherit;">
                        <strong>文件</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F" style="text-decoration:none; color:inherit;">
                        <strong>操作系统</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:%E6%8F%8F%E8%BF%B0%E7%AC%A6" style="text-decoration:none; color:inherit;">
                        <strong>描述符</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:%E6%96%87%E4%BB%B6%E6%8F%8F%E8%BF%B0%E7%AC%A6" style="text-decoration:none; color:inherit;">
                        <strong>文件描述符</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:%E7%94%B2%E6%B2%9F%E7%82%8E" style="text-decoration:none; color:inherit;">
                        <strong>甲沟炎</strong> (1)
                    </a>
                </span><span style="font-size:18px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:Go" style="text-decoration:none; color:inherit;">
                        <strong>Go</strong> (4)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:chatgpt" style="text-decoration:none; color:inherit;">
                        <strong>chatgpt</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:kafka" style="text-decoration:none; color:inherit;">
                        <strong>kafka</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:%E5%AD%A6%E4%B9%A0" style="text-decoration:none; color:inherit;">
                        <strong>学习</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:mysql" style="text-decoration:none; color:inherit;">
                        <strong>mysql</strong> (1)
                    </a>
                </span><span style="font-size:18px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:nginx" style="text-decoration:none; color:inherit;">
                        <strong>nginx</strong> (4)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:master" style="text-decoration:none; color:inherit;">
                        <strong>master</strong> (1)
                    </a>
                </span><span style="font-size:14px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:Process" style="text-decoration:none; color:inherit;">
                        <strong>Process</strong> (2)
                    </a>
                </span><span style="font-size:14px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:source-code" style="text-decoration:none; color:inherit;">
                        <strong>source-code</strong> (2)
                    </a>
                </span><span style="font-size:14px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:php" style="text-decoration:none; color:inherit;">
                        <strong>php</strong> (2)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:%E5%8E%8B%E7%BC%A9" style="text-decoration:none; color:inherit;">
                        <strong>压缩</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:redis" style="text-decoration:none; color:inherit;">
                        <strong>redis</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:rdb" style="text-decoration:none; color:inherit;">
                        <strong>rdb</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:zettelkasten" style="text-decoration:none; color:inherit;">
                        <strong>zettelkasten</strong> (1)
                    </a>
                </span><span style="font-size:14px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:%E5%93%B2%E5%AD%A6" style="text-decoration:none; color:inherit;">
                        <strong>哲学</strong> (2)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE" style="text-decoration:none; color:inherit;">
                        <strong>思维导图</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:rime" style="text-decoration:none; color:inherit;">
                        <strong>rime</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:marginnote" style="text-decoration:none; color:inherit;">
                        <strong>marginnote</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:%E9%98%85%E8%AF%BB%E5%99%A8" style="text-decoration:none; color:inherit;">
                        <strong>阅读器</strong> (1)
                    </a>
                </span><span style="font-size:18px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:mac" style="text-decoration:none; color:inherit;">
                        <strong>mac</strong> (4)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:%E8%BE%93%E5%85%A5%E6%B3%95" style="text-decoration:none; color:inherit;">
                        <strong>输入法</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:phpstorm" style="text-decoration:none; color:inherit;">
                        <strong>phpstorm</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:ide" style="text-decoration:none; color:inherit;">
                        <strong>ide</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:chrome" style="text-decoration:none; color:inherit;">
                        <strong>chrome</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:%E9%95%9C%E5%83%8F" style="text-decoration:none; color:inherit;">
                        <strong>镜像</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C" style="text-decoration:none; color:inherit;">
                        <strong>开发经验</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:excalidraw" style="text-decoration:none; color:inherit;">
                        <strong>excalidraw</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:linux%E5%91%BD%E4%BB%A4" style="text-decoration:none; color:inherit;">
                        <strong>linux命令</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:%E6%A0%91%E8%8E%93%E6%B4%BE" style="text-decoration:none; color:inherit;">
                        <strong>树莓派</strong> (1)
                    </a>
                </span><span style="font-size:40px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:leetcode" style="text-decoration:none; color:inherit;">
                        <strong>leetcode</strong> (15)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:" style="text-decoration:none; color:inherit;">
                        <strong></strong> (1)
                    </a>
                </span><span style="font-size:14px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:%E5%89%8D%E7%BC%80%E5%92%8C" style="text-decoration:none; color:inherit;">
                        <strong>前缀和</strong> (2)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:dp" style="text-decoration:none; color:inherit;">
                        <strong>dp</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:network" style="text-decoration:none; color:inherit;">
                        <strong>network</strong> (1)
                    </a>
                </span><span style="font-size:12px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:%E5%AE%B6" style="text-decoration:none; color:inherit;">
                        <strong>家</strong> (1)
                    </a>
                </span>

digital-garden 还是很牛的，居然是能用的

贴一下完整代码：

```bash
``dataviewjs
let tagCounts = {};

// 遍历所有包含标签的笔记，收集标签并统计出现次数
for (let page of dv.pages().where(p => p.tags && p["dg-publish"] === true)) {  // 只处理包含标签的页面
	let tags = page.tags.toString()
	let tagArr = tags.split(',')
	
    for (let tag of tagArr) {
        tagCounts[tag] = (tagCounts[tag] || 0) + 1;
    }
}

// 找到标签的最大频次，以便调整大小
let maxCount = Math.max(...Object.values(tagCounts));

// 设置字体大小范围（最小10px，最大40px）
const minSize = 10;
const maxSize = 40;

// 生成标签云，根据频次调整标签字体大小
dv.container.innerHTML = Object.entries(tagCounts)
    .map(([tag, count]) => {
        // 根据标签出现的频次计算字体大小
        let size = minSize + ((count / maxCount) * (maxSize - minSize));
        // 创建可点击的链接，链接到搜索栏
        return `<span style="font-size:${size}px; margin-right:20px;">
                    <a href="obsidian://search?query=tag:${encodeURIComponent(tag)}" style="text-decoration:none; color:inherit;">
                        <strong>${tag}</strong> (${count})
                    </a>
                </span>`;
    })
    .join('');  // 每个标签后换行
``
```
